# React

Реализует декларативный подход, в котором мы описываем то как будет выглядеть страница. Об остальном позаботится React.

метод `render` - это и есть виртуальный DOM.

Механим перестроения (механизм реконсиляции) с версии 16 стал асинхронным.

Для списка реакт-компонентов нужно проставить `key`. Это могут быть `id` или названия. Нельзя использовать индексы массива или случайные значения.

## Методы жизненного цикла

Допустимо использовать только в Class Component.

Инициализация:

- constructor(props)

- componentWillMount()

- render() Служит для построения виртуального DOM. Должен быть читстым от логики (не содержать запросов к серверу).

- componentDidMount(). Появление компонента в реальном DOM. Окончание инициализации. Здесь можем получить размеры elementa, подписаться на изменение в данных.

Обновление:

- componentWillReceiveProps(nextProps) nextProps - новые props с которыми строится виртуальный DOM.

- shouldComponentUpdate(nextProps, nextState) - метод, позволяющий оптимизировать приложение в ручном режиме. Управляет нужно ли перестраивать DOM.

- componentWillUpdate(nextProps, nextState) предназначен для отслеживания изменения собственного состояния (без родителей).

- render()

- componentDidUpdate(prevProps, prevState)

Удаление:

- componentWillUnmount()


Для управления состоянием родительского элемента существует прием reverseDataFlow (обратный поток данных)

HOC - компонетн высшего порядка.

****

## Вопросы на собеседовании

#### Что делает setState?

Обновляет пользовательский интерфейс.

#### Разница между Элементом и Компонентом в React?

Элемент описывает то, что вы хотите видеть на экране.
Компонент, является функцией или классом.


#### Когда использовать Class Component вместо Functional Component?

Functional Component (stateless) - это упрощенный синтаксис, в нем нет state и методов жизненного цикла. Это простейшие "чистые" компоненты, которые просто принимают props, преобразовывая их в HTML, и вызывают callback при пользовательском взаимодействии.
Если ваш компонент имеет состояние или требуется использовать методы, нужно использовать Class Component.


#### Что такое refs в React?

Refs позволяет получить прямой доступ к элементу DOM или состоянию компонента.


#### Что такое keys в React?

Keys (ключи) помогают отследить какие элементы в списке были изменены.


#### В какой момент жизненного цикла должны применяться AJAX-запросы?

AJAX запросы должны идти в момент события componentDidMount.

Реализация AJAX-запроса в componentWillMount будет "не детерминировано". Поскольку React будет вызывать componentWillMount когда это необходимо.


#### Для чего предназначен shouldComponentUpdate

Позволяет отказаться от участия в процессе сравнения для некоторых компонентов (и их дочерних компонентов). Нужно вернуть `false`.


#### Почему необходимо использовать React.Children.map(props.children, () => ) вместо props.children.map(() => )

Нет гарантии, что `props.children` будет массивом.


#### Как в React обрабатываются события?

Для кроссбраузерной совместимости, вашим обработчикам в React будут переданы экземпляры SyntheticEvent, которые являются в React обертками над нативными событиями браузеров.


#### Какой второй аргумент можно передать опционально в setState?

Функция обратного вызова, которая будет вызываться после выполнения функции setState и отрисовки компонента.
